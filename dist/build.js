!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./dist/",e(e.s=0)}([function(t,e,i){var a,n;"function"==typeof Symbol&&Symbol.iterator;!function(){function i(){var t=this;this.maxWidth=800,this.maxHeight=800,this.resizeStatus=-1,this.resizeSTime=0,this.resizeETime=0,this.reader=new FileReader,this.reader.onload=function(e){t.readerOnload(e)},this.canvas=document.createElement("canvas")}i.prototype.init=function(t,e){var i=this;this.fileElement=t,this.callback=e,this.fileElement.addEventListener("change",function(){var t=i.fileElement.files[0];i.filename=t.name,i.reader.readAsDataURL(t)},!1)},i.prototype.readerOnload=function(t){var e=this;this.resizeStatus=0,this.resizeTime=(new Date).getTime(),this.img=document.createElement("img"),this.img.src=t.target.result,this.img.onload=function(t){e.naturalWidth=t.path[0].naturalWidth,e.naturalHeight=t.path[0].naturalHeight,e.handle(),e.reSize(),e.reSizeComplete()}},i.prototype.handle=function(){var t=this.maxWidth-this.naturalWidth,e=this.maxHeight-this.naturalHeight;if(t>0&&e>0)return this.handleWidth=this.naturalWidth,void(this.handleHeight=this.naturalHeight);if(t<e){var i=this.naturalWidth/this.maxWidth;this.handleWidth=this.maxWidth,this.handleHeight=this.naturalHeight/i}else{var i=this.naturalHeight/this.maxHeight;this.handleHeight=this.maxHeight,this.handleWidth=this.naturalWidth/i}},i.prototype.reSize=function(){this.canvas.width=this.handleWidth,this.canvas.height=this.handleHeight,this.ctx=this.canvas.getContext("2d"),this.ctx.drawImage(this.img,0,0,this.naturalWidth,this.naturalHeight,0,0,this.handleWidth,this.handleHeight)},i.prototype.reSizeComplete=function(){var t=this.canvas.toDataURL(),e=this.dataURLtoFile(t,this.filename);this.callback&&this.callback({canvas:this.canvas,file:e})},i.prototype.dataURLtoFile=function(t,e){for(var i=t.split(","),a=i[0].match(/:(.*?);/)[1],n=atob(i[1]),h=n.length,r=new Uint8Array(h);h--;)r[h]=n.charCodeAt(h);return new File([r],e,{type:a})},a=[],void 0!==(n=function(){return i}.apply(e,a))&&(t.exports=n)}();var h=new t.exports;window.onload=function(){var t=document.getElementById("file");h.init(t,function(t){document.body.appendChild(t.canvas)})}}]);
//# sourceMappingURL=build.js.map